{"componentChunkName":"component---src-templates-blog-post-js","path":"/2022/01/menggunakan-dua-profil-git/","result":{"data":{"site":{"siteMetadata":{"title":"Dev Jurnal","author":"mmdmthr","siteUrl":"https://mmdmthr.github.io","comment":{"disqusShortName":"","utterances":"mmdmthr/devjurnal"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"b9cf3341-6f1d-5f2b-910b-c709cbe2bfc9","excerpt":"Bayangkan situasi ini, kita memiliki dua akun git. Satu akun untuk repo perusahaan tempat kita bekerja \ndan satunya lagi akun git pribadi. Kita akan memerlukan dua profil yang berbeda untuk mengakses masing-masing repo. Tentu kita bisa mengeset konfigurasi pada masing-masing repo…","html":"<p>Bayangkan situasi ini, kita memiliki dua akun git. Satu akun untuk repo perusahaan tempat kita bekerja\ndan satunya lagi akun git pribadi. Kita akan memerlukan dua profil yang berbeda untuk mengakses masing-masing repo.</p>\n<p>Tentu kita bisa mengeset konfigurasi pada masing-masing repo setiap kali kita git init/clone.\nTapi itu akan membuat kita melakukannya berkali-kali jika kita memiliki banyak repo.\nTujuan tulisan ini adalah untuk mengeset config secara global dan membuat profilnya menyesuaikan kebutuhan akses kita.</p>\n<h3 id=\"file-konfigurasi-git-code-classlanguage-textgitconfigcode\" style=\"position:relative;\"><a href=\"#file-konfigurasi-git-code-classlanguage-textgitconfigcode\" aria-label=\"file konfigurasi git code classlanguage textgitconfigcode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>File Konfigurasi Git (<code class=\"language-text\">.gitconfig</code>)</h3>\n<p>Konfigurasi Git disimpan pada file <code class=\"language-text\">.gitconfig</code> yang biasanya tersimpan di folder home.\nFile ini adalah titik awal bagi Git untuk mengidentifikasi konfigurasi apa yang akan digunakan.</p>\n<p>Jika kita pernah melakukan konfigurasi Git user secara global (<code class=\"language-text\">git config –global user.name</code>)\nmaka kemungkinan isi dari file <code class=\"language-text\">.gitconfig</code> akan terlihat seperti ini. </p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>user<span class=\"token punctuation\">]</span>\n  name <span class=\"token operator\">=</span> username\n  email <span class=\"token operator\">=</span> email@example.com</code></pre></div>\n<p>Artinya ketika melakukan commit di repo apapun maka profil tersebut yang akan digunakan.</p>\n<p>Tujuan kita adalah memiliki dua profil berbeda yang akan di-load sesuai dengan repo kita, apakah itu repo kantor atau pribadi.\nCaranya adalah dengan memisahkan repo kita menjadi beberapa direktori sesuai dengan profil yang kita inginkan, kemudian mendefinisikan file <code class=\"language-text\">.gitconfig</code> untuk setiap profil.</p>\n<h3 id=\"1---buat-direktori-terpisah-untuk-masing-masing-repo\" style=\"position:relative;\"><a href=\"#1---buat-direktori-terpisah-untuk-masing-masing-repo\" aria-label=\"1   buat direktori terpisah untuk masing masing repo permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1 - Buat Direktori Terpisah untuk Masing-masing Repo</h3>\n<p>Atur repo proyek yang sedang kita kerjakan ke dalam folder terpisah.\nSebagai contoh, katakanlah ada dua profil Git yang kita miliki.\nIni adalah kasus penggunaan umum bagi kebanyakan dari kita:</p>\n<p>WORK → untuk proyek terkait pekerjaan<br>\nPERSONAL → untuk proyek pribadi (open source atau proyek sampingan)</p>\n<h3 id=\"2---edit-konfigurasi-global-git\" style=\"position:relative;\"><a href=\"#2---edit-konfigurasi-global-git\" aria-label=\"2   edit konfigurasi global git permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2 - Edit Konfigurasi Global Git</h3>\n<p>Edit file <code class=\"language-text\">.gitconfig</code> global atau buat di direktori home jika belum ada. Jangan lupa buat backup file <code class=\"language-text\">.gitconfig</code> jika ingin tetap menyimpan konfigurasi lama. Setelah itu tambahkan semua direktori profil sebagai entri seperti pada contoh di bawah ini.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># ~/.gitconfig</span>\n\n<span class=\"token punctuation\">[</span>includeIf <span class=\"token string\">\"gitdir:~/personal/\"</span><span class=\"token punctuation\">]</span>\n   path <span class=\"token operator\">=</span> ~/.gitconfig-personal\n<span class=\"token punctuation\">[</span>includeIf <span class=\"token string\">\"gitdir:~/work/\"</span><span class=\"token punctuation\">]</span>\n   path <span class=\"token operator\">=</span> ~/.gitconfig-work</code></pre></div>\n<p>Script tersebut akan membuat sebuah kondisi, jika <em>path</em> direktori git tempat menyimpan proyek cocok dengan salah satu path di <code class=\"language-text\">includeIF</code>, maka Git menggunakan file konfigurasi profil tersebut. Jika tidak, ia akan menggunakan konfigurasi default.</p>\n<h3 id=\"3---buat-konfigurasi-git-untuk-masing-masing-profil\" style=\"position:relative;\"><a href=\"#3---buat-konfigurasi-git-untuk-masing-masing-profil\" aria-label=\"3   buat konfigurasi git untuk masing masing profil permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3 - Buat Konfigurasi Git untuk Masing-Masing Profil</h3>\n<p>Buat file <code class=\"language-text\">.gitconfig-personal</code> dan <code class=\"language-text\">.gitconfig-work</code> yang sudah kita definisikan di file <code class=\"language-text\">.gitconfig</code> global. Masing-masing file ini dapat berisi semua konfigurasi yang kita butuhkan, mulai dari username dan email hingga commit hook.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># ~/.gitconfig-work</span>\n\n<span class=\"token punctuation\">[</span>user<span class=\"token punctuation\">]</span>\n  nama <span class=\"token operator\">=</span> work_user\n  email <span class=\"token operator\">=</span> email_kerja\n\n<span class=\"token comment\"># ~/.gitconfig-personal</span>\n\n<span class=\"token punctuation\">[</span>user<span class=\"token punctuation\">]</span>\n  name <span class=\"token operator\">=</span> personal_user\n  email <span class=\"token operator\">=</span> personal_email</code></pre></div>\n<h3 id=\"cek-perubahannya\" style=\"position:relative;\"><a href=\"#cek-perubahannya\" aria-label=\"cek perubahannya permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cek Perubahannya</h3>\n<p>Seharusnya sekarang kita sudah memiliki 3 file git config.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">➜  ~ l <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token string\">'git*'</span>  \n-rw-rw-r--  <span class=\"token number\">1</span> user   staff    <span class=\"token number\">116</span> Apr  <span class=\"token number\">3</span> <span class=\"token number\">12</span>:31 .gitconfig\n-rw-rw-r--  <span class=\"token number\">1</span> user   staff     <span class=\"token number\">50</span> Mar <span class=\"token number\">26</span> <span class=\"token number\">18</span>:22 .gitconfig-personal\n-rw-rw-r--  <span class=\"token number\">1</span> user   staff     <span class=\"token number\">52</span> Mar <span class=\"token number\">26</span> <span class=\"token number\">18</span>:21 .gitconfig-work</code></pre></div>\n<p>Sekarang kita buat direktori <code class=\"language-text\">work</code> dan <code class=\"language-text\">personal</code>, buat repo baru atau clone repo di dalam folder tersebut.\nSebagai contoh kita akan melihat konfigurasi yang digunakan pada direktori personal. </p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">cd</span> ~/personal\n$ <span class=\"token function\">mkdir</span> personal-test-repo\n$ <span class=\"token builtin class-name\">cd</span> personal-test-repo\n$ <span class=\"token function\">git</span> init\n$ <span class=\"token function\">git</span> config <span class=\"token parameter variable\">-l</span>\n\n<span class=\"token comment\"># script menggunakan (include) file .gitconfig personal</span>\n<span class=\"token comment\"># dan mengabaikan konfigurasi work</span>\n<span class=\"token comment\"># karena proyek berada di direktori personal</span>\n\nincludeif.gitdir:~/project/.path<span class=\"token operator\">=~</span>/.gitconfig-personal\n<span class=\"token assign-left variable\">user.name</span><span class=\"token operator\">=</span>mmdmthr\n<span class=\"token assign-left variable\">user.email</span><span class=\"token operator\">=</span>muhhari@gmail.com\nincludeif.gitdir:~/dev/.path<span class=\"token operator\">=~</span>/.gitconfig-work\n<span class=\"token assign-left variable\">core.repositoryformatversion</span><span class=\"token operator\">=</span><span class=\"token number\">0</span>\n<span class=\"token assign-left variable\">core.filemode</span><span class=\"token operator\">=</span>true\n<span class=\"token assign-left variable\">core.bare</span><span class=\"token operator\">=</span>false\n<span class=\"token assign-left variable\">core.logallrefupdates</span><span class=\"token operator\">=</span>true</code></pre></div>\n<p>Seperti yang terlihat, email dan username berbeda di kedua direktori sesuai dengan path di mana git berada.</p>\n<p>Sumber <a href=\"https://www.freecodecamp.org/news/how-to-handle-multiple-git-configurations-in-one-machine/\">https://www.freecodecamp.org/news/how-to-handle-multiple-git-configurations-in-one-machine/</a></p>","frontmatter":{"title":"Menggunakan Dua Profil Git","date":"January 18, 2022"}}},"pageContext":{"slug":"/2022/01/menggunakan-dua-profil-git/","previous":{"fields":{"slug":"/2021/11/menggunakan-git-stash/"},"frontmatter":{"title":"Menggunakan Git Stash"}},"next":{"fields":{"slug":"/2022/02/melihat-raw-query-database-eloquent-laravel/"},"frontmatter":{"title":"Melihat Raw Query Database Eloquent Laravel"}}}},"staticQueryHashes":["2486386679","3128451518"]}