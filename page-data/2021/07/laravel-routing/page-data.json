{"componentChunkName":"component---src-templates-blog-post-js","path":"/2021/07/laravel-routing/","result":{"data":{"site":{"siteMetadata":{"title":"Dev Jurnal","author":"mmdmthr","siteUrl":"https://mmdmthr.github.io","comment":{"disqusShortName":"","utterances":"mmdmthr/devjurnal"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"5673bb7e-f565-56c9-b602-af3079855f6e","excerpt":"Class Route pada Laravel menyediakan method yang sederhana \nuntuk mendefinisikan route dan fungsi-fungsinya tanpa file konfigurasi\nyang rumit. Route yang paling dasar menerima parameter URI dan sebuah closure. Mengarahkan pada Controller Pada kebanyakan aplikasi, kita mengarahkan…","html":"<p>Class Route pada Laravel menyediakan method yang sederhana\nuntuk mendefinisikan route dan fungsi-fungsinya tanpa file konfigurasi\nyang rumit. Route yang paling dasar menerima parameter URI dan sebuah closure.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\">use Illuminate\\Support\\Facades\\Route<span class=\"token punctuation\">;</span>\n\nRoute<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/greeting'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">'Hello World'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"mengarahkan-pada-controller\" style=\"position:relative;\"><a href=\"#mengarahkan-pada-controller\" aria-label=\"mengarahkan pada controller permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Mengarahkan pada Controller</h2>\n<p>Pada kebanyakan aplikasi, kita mengarahkan URL menuju controller dan method\nyang akan menangani permintaan.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\">use App\\Http\\Controllers\\UserController<span class=\"token punctuation\">;</span>\n\nRoute<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/user'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>UserController<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'index'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Mengarahkan ke method index pada UserController</span></code></pre></div>\n<h2 id=\"merespon-request-sesuai-dengan-http-verb\" style=\"position:relative;\"><a href=\"#merespon-request-sesuai-dengan-http-verb\" aria-label=\"merespon request sesuai dengan http verb permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Merespon Request Sesuai dengan HTTP Verb</h2>\n<p>Router pada Laravel dapat merespon semua HTTP verb</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\">Route<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>$uri<span class=\"token punctuation\">,</span> $callback<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nRoute<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span>$uri<span class=\"token punctuation\">,</span> $callback<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nRoute<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span>$uri<span class=\"token punctuation\">,</span> $callback<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nRoute<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token function\">patch</span><span class=\"token punctuation\">(</span>$uri<span class=\"token punctuation\">,</span> $callback<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nRoute<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token keyword\">delete</span><span class=\"token punctuation\">(</span>$uri<span class=\"token punctuation\">,</span> $callback<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nRoute<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token function\">options</span><span class=\"token punctuation\">(</span>$uri<span class=\"token punctuation\">,</span> $callback<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Jika ingin membuat route yang merespon beberapa HTTP verb sekaligus bisa menggunakan\nmethod <code class=\"language-text\">match</code>, atau jika menginginkan route yang merespon semua HTTP verbs\nbisa menggunakan method <code class=\"language-text\">any</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\">Route<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'get'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'post'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nRoute<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token function\">any</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"route-untuk-resource-controller\" style=\"position:relative;\"><a href=\"#route-untuk-resource-controller\" aria-label=\"route untuk resource controller permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Route untuk Resource Controller</h2>\n<p>Kadang kita memperlakukan setiap model data sebagai ”<em>resource</em>”,\ndimana kita melakukan serangkaian operasi yang sama pada resource\ntersebut. Misalnya kita memiliki aplikasi yang mengelola data buku dan film.\nKita akan membuat fitur create, read, update atau delete pada <em>resource</em> tersebut.</p>\n<p>Fitur tersebut umum sekali dibuat pada aplikasi, sehingga Laravel menyediakan\nresource controller, sebuah controller dengan method yang lengkap beserta\nroute create, read, update, and delete (“CRUD”) dalam satu baris kode saja. </p>\n<p>Untuk membuat controllernya gunakan perintah php artisan dengan tambahan\n<code class=\"language-text\">--resource</code></p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\">php artisan make<span class=\"token operator\">:</span>controller PhotoController <span class=\"token operator\">--</span>resource</code></pre></div>\n<p>Perintah tersebut akan membuat controller baru yang di dalamnya sudah terdapat\nmethod-method untuk masing-masing operasi CRUD. Selanjutnya cukup buat satu baris kode\nyang sudah mencakup semua method pada controller resource.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\">use App\\Http\\Controllers\\PhotoController<span class=\"token punctuation\">;</span>\n\nRoute<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token function\">resource</span><span class=\"token punctuation\">(</span><span class=\"token string\">'photos'</span><span class=\"token punctuation\">,</span> PhotoController<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Satu baris route di atas akan membuat beberapa route yang akan menangani\nvariasi fungsi pada resource sesuai dengan HTTP verbs-nya. Jika kita memiliki\nbeberapa resource bisa juga digabungkan menggunakan array</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\">Route<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token function\">resources</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n    <span class=\"token string\">'photos'</span> <span class=\"token operator\">=></span> PhotoController<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'posts'</span> <span class=\"token operator\">=></span> PostController<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Jika sudah memiliki route di luar resource, letakkan kodenya di atas route resource.\nFungsi yang ditangani resource controller dan route yang dibuat:</p>\n<table>\n<thead>\n<tr>\n<th>Verb</th>\n<th>URI</th>\n<th>Action</th>\n<th>Route Name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>GET</td>\n<td><code>/photos</code></td>\n<td>index</td>\n<td>photos.index</td>\n</tr>\n<tr>\n<td>GET</td>\n<td><code>/photos/create</code></td>\n<td>create</td>\n<td>photos.create</td>\n</tr>\n<tr>\n<td>POST</td>\n<td><code>/photos</code></td>\n<td>store</td>\n<td>photos.store</td>\n</tr>\n<tr>\n<td>GET</td>\n<td><code>/photos/{photo}</code></td>\n<td>show</td>\n<td>photos.show</td>\n</tr>\n<tr>\n<td>GET</td>\n<td><code>/photos/{photo}/edit</code></td>\n<td>edit</td>\n<td>photos.edit</td>\n</tr>\n<tr>\n<td>PUT/PATCH</td>\n<td><code>/photos/{photo}</code></td>\n<td>update</td>\n<td>photos.update</td>\n</tr>\n<tr>\n<td>DELETE</td>\n<td><code>/photos/{photo}</code></td>\n<td>destroy</td>\n<td>photos.destroy</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"menampilkan-view\" style=\"position:relative;\"><a href=\"#menampilkan-view\" aria-label=\"menampilkan view permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Menampilkan View</h2>\n<p>Jika hanya ingin menampilkan halaman tertentu (view) maka tidak perlu\nmembuat controller method, langsung saja gunakan <code class=\"language-text\">Route::view()</code></p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// Daripada memebuat controller dan method dulu</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">TextsController</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Controller</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">about</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">view</span><span class=\"token punctuation\">(</span><span class=\"token string\">'texts.about'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// Kemeudian membuat route seperti ini</span>\nRoute<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'about'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>PageController<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'action'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//</span>\n<span class=\"token comment\">//</span>\n<span class=\"token comment\">// Lebih singkat langsung saja</span>\nRoute<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token function\">view</span><span class=\"token punctuation\">(</span><span class=\"token string\">'about'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'texts.about'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Method <code class=\"language-text\">view</code> menerima tiga argument, pertama URI, kedua nama view-nya\nlalu yang ketiga data berupa array (opsional).</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\">Route<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token function\">view</span><span class=\"token punctuation\">(</span><span class=\"token string\">'about'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'texts.about'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span> <span class=\"token operator\">=></span> <span class=\"token string\">'Hari'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"menambahkan-parameter-dengan-fungsi-code-classlanguage-textroutecode\" style=\"position:relative;\"><a href=\"#menambahkan-parameter-dengan-fungsi-code-classlanguage-textroutecode\" aria-label=\"menambahkan parameter dengan fungsi code classlanguage textroutecode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Menambahkan Parameter dengan Fungsi <code class=\"language-text\">route()</code></h2>\n<p>Jika ingin menambahkan parameter pada route, buat array\ndengan pasangan key/value. Parameter tersebut akan\nditambahkan pada string query URL.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\">Route<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'user/{id}/profile'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>$id<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token comment\">//</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token string\">'profile'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n$url <span class=\"token operator\">=</span> <span class=\"token function\">route</span><span class=\"token punctuation\">(</span><span class=\"token string\">'profile'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'id'</span> <span class=\"token operator\">=></span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'photos'</span> <span class=\"token operator\">=></span> <span class=\"token string\">'yes'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Hasilnya: /user/1/profile?photos=yes</span></code></pre></div>\n<h2 id=\"melihat-route-yang-sudah-dibuat\" style=\"position:relative;\"><a href=\"#melihat-route-yang-sudah-dibuat\" aria-label=\"melihat route yang sudah dibuat permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Melihat Route yang Sudah Dibuat</h2>\n<p>Gunakan perintah php artisan <code class=\"language-text\">route:list</code> untuk melihat route yang\nada pada aplikasi kita.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\">php artisan route<span class=\"token operator\">:</span>list</code></pre></div>","frontmatter":{"title":"Laravel Routing","date":"July 26, 2021"}}},"pageContext":{"slug":"/2021/07/laravel-routing/","previous":{"fields":{"slug":"/2021/07/normalisasi-database/"},"frontmatter":{"title":"Normalisasi Database"}},"next":{"fields":{"slug":"/2021/08/public-private-protected-properties-and-method/"},"frontmatter":{"title":"Property dan Method Public, Private, Protected"}}}},"staticQueryHashes":["2486386679","3128451518"]}