{"componentChunkName":"component---src-templates-blog-post-js","path":"/2023/02/tips-laravel-routing-part-1/","result":{"data":{"site":{"siteMetadata":{"title":"Dev Jurnal","author":"mmdmthr","siteUrl":"https://mmdmthr.github.io","comment":{"disqusShortName":"","utterances":"mmdmthr/devjurnal"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"5bb45813-19f6-528d-a475-823484d63048","excerpt":"Pada file routing seringkali digunakan sintaks  \ndan  yang sederhana. Namun, dalam proyek yang lebih besar, \nrouting biasanya akan menjadi lebih rumit. Ada beberapa cara yang dapat diterapkan \nuntuk menangani masalah routing dalam situasi tertentu. Tip 1. Route::get() SEBELUM…","html":"<p>Pada file routing seringkali digunakan sintaks <code class=\"language-text\">Route::get()</code>\ndan <code class=\"language-text\">Route::post()</code> yang sederhana. Namun, dalam proyek yang lebih besar,\nrouting biasanya akan menjadi lebih rumit. Ada beberapa cara yang dapat diterapkan\nuntuk menangani masalah routing dalam situasi tertentu.</p>\n<h3 id=\"tip-1-routeget-sebelum-routeresource\" style=\"position:relative;\"><a href=\"#tip-1-routeget-sebelum-routeresource\" aria-label=\"tip 1 routeget sebelum routeresource permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tip 1. Route::get() SEBELUM Route::resource()</h3>\n<p>Ini adalah salah satu kesalahan paling umum ketika menggunakan\n<em>Resource Controller</em></p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token class-name static-context\">Route</span><span class=\"token operator\">::</span><span class=\"token function\">resource</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'photos'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'PhotoController'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name static-context\">Route</span><span class=\"token operator\">::</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'photos/popular'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'PhotoController@method'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Rute kedua tidak akan akurat, karena itu akan dicocokkan dengan\nmethod <code class=\"language-text\">show()</code> dari <code class=\"language-text\">Route::resource()</code> yaitu <code class=\"language-text\">/photos/{id}</code>.\nDalam kasus ini, “popular” akan ditetapkan sebagai parameter <code class=\"language-text\">$id</code>.</p>\n<p>Jika ingin menambahkan rute get/post, selain <code class=\"language-text\">Route::resource()</code>,\nletakkan <strong>SEBELUM</strong> resource. Seperti ini:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token class-name static-context\">Route</span><span class=\"token operator\">::</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'photos/popular'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'PhotoController@method'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name static-context\">Route</span><span class=\"token operator\">::</span><span class=\"token function\">resource</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'photos'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'PhotoController'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"tip-2-route-group-di-dalam-grup-lain\" style=\"position:relative;\"><a href=\"#tip-2-route-group-di-dalam-grup-lain\" aria-label=\"tip 2 route group di dalam grup lain permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tip 2. Route Group di dalam Grup Lain</h3>\n<p>Kita mungkin semua tahu bahwa kita dapat mengelompokkan rute dengan <code class=\"language-text\">Route::group()</code>\ndan menetapkan <em>middlewares/prefix</em> yang berbeda dan parameter lainnya,\nseperti rute yang bersifat publik dan rute yang mengharuskan <em>log in</em>.</p>\n<p>Tetapi bagaimana jika kita memerlukan seperangkat aturan tertentu\nuntuk subgrup dari grup tersebut?</p>\n<p><strong>Contoh</strong>: kita memerlukan rute publik dan rute yang diautentikasi,\ntetapi di dalam grup yang diautentikasi, kita perlu memisahkan administrator\ndari pengguna biasa.</p>\n<p>Ini bisa kita lakukan:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token comment\">// rute publik</span>\n<span class=\"token class-name static-context\">Rute</span><span class=\"token operator\">::</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'/'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'HomeController@index'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Pengguna harus log in - dengan middleware \"auth\".</span>\n<span class=\"token class-name static-context\">Rute</span><span class=\"token operator\">::</span><span class=\"token function\">grup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'middleware'</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'auth'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n     <span class=\"token comment\">// /user/XXX: Selain \"auth\", grup ini akan memiliki middleware \"simple_users\"</span>\n     <span class=\"token class-name static-context\">Rute</span><span class=\"token operator\">::</span><span class=\"token function\">grup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'middleware'</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'simple_users'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'prefix'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'user'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n         <span class=\"token class-name static-context\">Rute</span><span class=\"token operator\">::</span><span class=\"token function\">resource</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'tugas'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'TaskController'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n     <span class=\"token comment\">// /admin/XXX: Grup ini tidak akan memiliki \"simple_users\", tetapi akan memiliki \"auth\" dan \"admins\"</span>\n     <span class=\"token class-name static-context\">Route</span><span class=\"token operator\">::</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'middleware'</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'admins'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'prefix'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'admin'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n         <span class=\"token class-name static-context\">Route</span><span class=\"token operator\">::</span><span class=\"token function\">resource</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'users'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'UserController'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"tip-3-validasi-parameter-rute--contoh-multi-bahasa\" style=\"position:relative;\"><a href=\"#tip-3-validasi-parameter-rute--contoh-multi-bahasa\" aria-label=\"tip 3 validasi parameter rute  contoh multi bahasa permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tip 3. Validasi Parameter Rute – Contoh Multi-Bahasa</h3>\n<p>Kasus yang cukup umum adalah mengawali rute dengan bahasa lokal,\nseperti <code class=\"language-text\">fr/blog</code> atau <code class=\"language-text\">en/article/333</code>. Bagaimana kita memastikan\nbahwa dua huruf pertama itu tidak digunakan untuk hal lain selain bahasa?</p>\n<p>Kita dapat memvalidasinya langsung di rute, dengan parameter <code class=\"language-text\">where</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token class-name static-context\">Route</span><span class=\"token operator\">::</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'prefix'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'{locale}'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'where'</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'locale'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'[a-zA-Z]{2}'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n     <span class=\"token class-name static-context\">Rute</span><span class=\"token operator\">::</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'/'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'HomeController@index'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     <span class=\"token class-name static-context\">Route</span><span class=\"token operator\">::</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'article/{id}'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'ArticleController@show'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Bagian utama di sini adalah <code class=\"language-text\">where => ['locale' => '[a-zA-Z]{2}']</code>\ndi mana kita menggunakan <em>regular expression</em> untuk mencocokkan parameter yang\nhanya sesuai dengan kombinasi dua huruf.</p>\n<h3 id=\"tip-4-dynamic-subdomain-routing\" style=\"position:relative;\"><a href=\"#tip-4-dynamic-subdomain-routing\" aria-label=\"tip 4 dynamic subdomain routing permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tip 4. Dynamic Subdomain Routing</h3>\n<p>Kita bisa lihat yang satu ini langsung dari\n<a href=\"https://laravel.com/docs/master/routing#route-group-subdomain-routing\">dokumentasi resmi Laravel</a>.\nJika kita memiliki subdomain dinamis, misalnya subdomain yang berbeda\nuntuk setiap pengguna, paramater tersebut diperlukan sebagai variabel.\nLaravel telah melakukannya secara otomatis. Lihat contoh:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token class-name static-context\">Rute</span><span class=\"token operator\">::</span><span class=\"token function\">domain</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'{account}.myapp.com'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-></span><span class=\"token function\">grup</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n     <span class=\"token class-name static-context\">Rute</span><span class=\"token operator\">::</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'user/{id}'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$account</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$id</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n         <span class=\"token comment\">//</span>\n     <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Perhatikan bahwa <code class=\"language-text\">{account}</code> secara otomatis diteruskan sebagai\nparameter <code class=\"language-text\">$account</code> di dalam semua method controller.</p>\n<h3 id=\"tip-5-route-list-dan-route-caching\" style=\"position:relative;\"><a href=\"#tip-5-route-list-dan-route-caching\" aria-label=\"tip 5 route list dan route caching permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tip 5. Route List dan Route Caching</h3>\n<p>Cara memeriksa rute yang ada dalam sebuah proyek.\nKita mungkin tidak tahu persis ada rute apa saja dalam sebuah aplikasi.\nBisa saja tersembunyi di dalam <code class=\"language-text\">Route::resource()</code>,\natau di dalam <code class=\"language-text\">Route::group</code> yang lebih kompleks.</p>\n<p>Kita dapat memeriksa semua rute yang sebenarnya dengan perintah Artisan:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">php artisan route:list</code></pre></div>\n<p>Perlu diingat, bahwa di Laravel ada <a href=\"https://laravel.com/docs/master/routing#route-caching\"><em>route caching</em></a>,\nsetelah ada perubahan rute, kita perlu menjalankan perintah:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">php artisan route:clear</code></pre></div>\n<p><strong>Sumber</strong>: <a href=\"https://blog.quickadminpanel.com/laravel-routing-8-advanced-tips-languages-apis-groups-validation/\">https://blog.quickadminpanel.com/laravel-routing-8-advanced-tips-languages-apis-groups-validation/</a></p>","frontmatter":{"title":"Tips Routing Laravel - Bagian 1","date":"February 18, 2023"}}},"pageContext":{"slug":"/2023/02/tips-laravel-routing-part-1/","previous":{"fields":{"slug":"/2023/02/membuat-bootable-flashdisk-di-ubuntu-dengan-ventoy/"},"frontmatter":{"title":"Membuat Bootable Flashdisk Windows di Ubuntu dengan Ventoy"}},"next":{"fields":{"slug":"/2023/02/tips-laravel-routing-part-2/"},"frontmatter":{"title":"Tips Routing Laravel - Bagian 2"}}}},"staticQueryHashes":["2486386679","3128451518"]}