{"componentChunkName":"component---src-templates-blog-post-js","path":"/2024/09/mengatur-composer-menggunakan-library-folder-lokal/","result":{"data":{"site":{"siteMetadata":{"title":"Dev Jurnal","author":"mmdmthr","siteUrl":"https://mmdmthr.github.io","comment":{"disqusShortName":"","utterances":"mmdmthr/devjurnal"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"4ce4901c-2757-525c-a475-699b88d8f81b","excerpt":"Ada kalanya kita membutuhkan library yang berada di folder lokal, baik itu karena kita sedang mengembangkan pustaka tersebut secara paralel, atau mungkin pustaka tersebut tidak tersedia di repository publik seperti Packagist. Pada artikel ini, kita akan membahas bagaimana cara…","html":"<p>Ada kalanya kita membutuhkan library yang berada di folder lokal, baik itu karena kita sedang mengembangkan pustaka tersebut secara paralel, atau mungkin pustaka tersebut tidak tersedia di repository publik seperti Packagist. Pada artikel ini, kita akan membahas bagaimana cara mengatur Composer agar dapat menggunakan library dari folder lokal.\nLangkah-langkah Mengatur Composer untuk Library Lokal</p>\n<h2 id=\"struktur-direktori\" style=\"position:relative;\"><a href=\"#struktur-direktori\" aria-label=\"struktur direktori permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Struktur Direktori</h2>\n<p>Pertama, pastikan kita memiliki struktur direktori yang benar. Misalkan kita memiliki dua proyek:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">app adalah proyek utama kita.\nlibrary adalah pustaka yang ingin kita gunakan di app, dan pustaka ini berada di folder lokal.</code></pre></div>\n<p>Struktur direktorinya terlihat seperti ini:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">/path/to/projects\n├── app/\n│   └── composer.json\n└── library/\n    └── composer.json</code></pre></div>\n<p>Pastikan bahwa di dalam folder library terdapat file composer.json yang valid.</p>\n<h2 id=\"menambahkan-library-lokal-ke-composer\" style=\"position:relative;\"><a href=\"#menambahkan-library-lokal-ke-composer\" aria-label=\"menambahkan library lokal ke composer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Menambahkan Library Lokal ke Composer</h2>\n<p>Untuk menghubungkan library ke dalam app, kita perlu mengubah file composer.json di app. Buka file composer.json dan tambahkan repository baru dengan tipe path yang menunjuk ke lokasi pustaka lokal kita. Contohnya:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"repositories\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"path\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"../library\"</span> <span class=\"token comment\">// penulisan dengan relatif path</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// sumber repository lain ditulis setelahnya</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"composer\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"remote-repo-url\"</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"require\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"vendorname/library\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"*\"</span> <span class=\"token comment\">// versi yang dibutuhkan</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>Penjelasan:</strong>  </p>\n<ul>\n<li><code class=\"language-text\">type: \"path\"</code>: Ini memberitahu Composer bahwa sumber pustaka adalah dari direktori lokal.</li>\n<li><code class=\"language-text\">url: \"../library\"</code>: Ini adalah path relatif dari app ke library. Sesuaikan path ini dengan lokasi folder kita.</li>\n<li><code class=\"language-text\">\"vendorname/library\": \"*\":</code> Nama paket dan versi yang ingin diinstal. Pastikan nama ini sesuai dengan yang ada di composer.json dari library.</li>\n<li><strong>Urutan Repository</strong>: Composer membaca repository dari atas ke bawah. Jika pustaka lokal berada di urutan pertama, maka Composer akan mencari pustaka tersebut di folder lokal terlebih dahulu sebelum mencoba di repository lainnya.</li>\n<li><strong>Menulis versi</strong>: Penggunaan <code class=\"language-text\">dev-main</code> atau <code class=\"language-text\">@dev</code> dalam <code class=\"language-text\">\"require\"</code> disesuaikan dengan branch atau versi dari pustaka lokal kita. Untuk pustaka di remote repository, disarankan menggunakan versi stabil seperti <code class=\"language-text\">^1.0</code>.</li>\n</ul>\n<h2 id=\"menginstall-library\" style=\"position:relative;\"><a href=\"#menginstall-library\" aria-label=\"menginstall library permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Menginstall Library</h2>\n<p>Setelah kita menambahkan konfigurasi di composer.json, jalankan perintah berikut di terminal pada direktori app:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">composer</span> update</code></pre></div>\n<p>Composer akan mencari pustaka library di folder lokal sesuai dengan path yang telah Anda tentukan. Jika berhasil, kita akan melihat library tersebut diunduh ke dalam direktori vendor di app.</p>\n<h2 id=\"opsi-symlink\" style=\"position:relative;\"><a href=\"#opsi-symlink\" aria-label=\"opsi symlink permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Opsi symlink</h2>\n<p>Secara default, Composer akan menggunakan symbolic link (symlink) untuk pustaka lokal. Ini berarti perubahan yang kita lakukan di library akan langsung tercermin di app tanpa perlu menginstal ulang pustaka. Jika kita tidak ingin menggunakan symlink dan lebih memilih untuk menyalin seluruh pustaka ke dalam folder vendor, kita bisa menambahkan opsi <code class=\"language-text\">{\"symlink\": false}</code> di konfigurasi repository:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"repositories\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"path\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"../library\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"options\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token property\">\"symlink\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"require\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"vendorname/library\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"*\"</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"pengembangan-dan-pembaruan\" style=\"position:relative;\"><a href=\"#pengembangan-dan-pembaruan\" aria-label=\"pengembangan dan pembaruan permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pengembangan dan Pembaruan</h2>\n<p>Jika kita sedang aktif mengembangkan library dan ingin memastikan bahwa perubahan terbaru selalu terinstal di app, cukup jalankan:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">composer</span> update vendorname/library</code></pre></div>\n<p>Perintah ini akan memperbarui pustaka library di app dengan versi terbaru yang ada di folder lokal kita.</p>\n<hr>\n<p>Menggunakan pustaka lokal dengan Composer bisa sangat bermanfaat dalam proses pengembangan, terutama jika kita sedang mengerjakan beberapa proyek secara paralel atau mengembangkan pustaka yang tidak tersedia di repository publik. Dengan menambahkan repository bertipe path di file composer.json, Composer dapat mengenali pustaka yang berada di folder lokal dan menggunakannya dalam proyek kita. Dengan cara ini, kita dapat memastikan pustaka lokal selalu up-to-date tanpa perlu menerbitkan pustaka ke Packagist atau repository lainnya.</p>","frontmatter":{"title":"Mengatur Composer untuk Menggunakan Library di Folder Lokal","date":"September 29, 2024"}}},"pageContext":{"slug":"/2024/09/mengatur-composer-menggunakan-library-folder-lokal/","previous":{"fields":{"slug":"/2024/09/startup-observability/"},"frontmatter":{"title":"Startup Observability"}},"next":{"fields":{"slug":"/2024/10/refactor-baik-dan-buruk/"},"frontmatter":{"title":"Refactor yang Baik, Buruk dan Menjebak"}}}},"staticQueryHashes":["2486386679","3128451518"]}